[{"content":"\n\n在我们学校的教务系统里，如果你想查成绩，那得先把这学期的老师都评价完。在旧版教务系统中，教师评价一直是一个很烦人的东西：一个教师就要填10个左右的问题，而且同一个教师可能出现多次（课程和实验分开）。那个时候有一个APP叫做“广工校园通”，应该是出自某个工作室之手。但今年寒假我开始发现它不能用了，不知道是因为教务系统改版，他们没有精力做，还是据说这个APP是当时他们参加比赛做的，比完就没人维护了。于是寒假前一段时间我花了点时间抓新教务系统的包，把教师评价做了出来。当时只支持对所有教师评价，无论之前有没有评价过。这里要吐槽一点：后来评价的内容将覆盖之前评价的内容。这阵子突发奇想：不如把这个功能弄进小程序吧，反正正好体验下这么久以来都没碰过的小程序。于是乎就有了这篇东西～\n\n\n\n![img](/images/广工教务系统助手笔记/index.png)\n\n## 抓包\n\n### 工具选择\n\n* 这里我用的是Firefox的拓展：[HttpFox](https://addons.mozilla.org/en-US/firefox/addon/httpfox/developers)  \n  \n![img](/images/广工教务系统助手笔记/httpfox.png)\n\n### 开始捉包吧\n\n#### 登录\n\n* 打开非常炫酷的教务系统登录界面  \n\n![img](/images/广工教务系统助手笔记/login.png)\n\n* 打开httpfox的窗口，点击开始。  \n\n然后教务系统输入账号密码登录吧～登录进去后把HttpFox暂停了，以免一直通讯的包都捉进来，我们现在要的是登录的包。  \n\n* 就下来我们看到如下的登录包  \n\n![img](/images/广工教务系统助手笔记/login-pkg.png)  \n\n* 恩，这就是我们要的东西。之后要什么东西，拿着下面这个Cookies就有了通行证啦～  \n\n![img](/images/广工教务系统助手笔记/login-cookies.png)  \n\n\n## 微信小程序\n\n注册完小程序后，我直接跳过了官网文档的设计部分，毕竟先实现功能嘛，界面什么的后面再改。开发过程中遇到了一些坑，下面来说下这些坑。\n\n### 1. 请求必须是Https\n\n仔细看看国内的很多网站，其实都没有使用https。这里不能怪教务系统吧不使用https，毕竟用了的话我们也不好通过捉包来干这事。所以才有了后文的后台程序，提供一个https转发请求的功能。也就是使用自己的服务器来接收小程序的https请求，再用http请求与教务系统通讯。\n![img](/images/广工教务系统助手笔记/request.png)\n\n### 2. 设置页面的后台数据 setData\n\n这里想用setData({})修改后台数据中某个数组中的值。于是乎有了下面的代码。\n```javascript\nPage({\n  data: {\n    strs: [\n      'abc',\n      'def',\n      'ghj',\n      'klm'\n    ],\n    temp: ''\n  },\n  //事件处理函数\n  ...\n  changeStrs: function(e){\n    var index = e.currentTarget.id;\n    this.data.strs[index] = str;\n    this.setData({\n       strs: this.data.strs\n    });\n  }\n})\n\n```\n\n## 后台\n\n其实我也不会什么后台，PHP、NodeJs、Javaweb、Asp.net之流什么的也没玩过。只是因为最近\"Py交易\"多，所以才用了Python里的Flask框架。这里就没什么技术问题了。都是很简单的请求。这里贴上些简单的代码。\n\n### 登录请求\n\n1. 登录\n\n```python\n@app.route('/api/gdut/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':                       \n        if valid_login(request.form['un'], request.form['pd']):\n            return '1'\n        else:\n            return '0'\n    else:\n        return \"This is Login's API page.~~~\"\n```\n\n2. 获取登录者名字\n\n```python\n@app.route('/api/gdut/name', methods=['GET', 'POST'])\ndef name():\n    if request.method == 'POST':                          \n        if lg.canLogin(request.form['un'], request.form['pd']):\n            return lg.getName(lg.getSession(request.form['un'], request.form['pd']))\n        else:\n            return '0'\n    else:\n        return \"This is Name's API page.~~~\"\n```\n\n\n## 后言\n\n总的来说，这个东西并没有什么技术含量。但是经过这次对新教务系统的捉包与api测试，发现有太多吐槽点了。除了之前说的一点：后提交的数据可以覆盖之前提交的数据。大概有这么几点：\n- 教师评价中提交的内容不需要与系统提供的数据相符合\n比如有这么个问题“授课过程是否充满热情”，有以下可以提交的内容：很热情、一般、不热情。但是你可以提交一个“十分激情”，甚至把题目提交成你想要的题目。\n- 上面这些数据都是可以重复写入的\n- 登录不触发验证码\n本来这个系统是有验证码的，如果你在浏览器上（非隐身模式）登录教务系统，输入几次错误密码，验证码就出来了。但我每次使用的都是一个新的Session，所以没有触发验证码。\n\n### 时效\n学校正在把旧的教务系统上的内容逐步转移到新的教务系统。这期间API会不会变动就不知道了，毕竟做出这玩意来还是得维护的，若之后新教务系统上有了更多功能，这玩意也会更进一下。\n\n\n\n\n\n","cover":"/images/广工教务系统助手笔记/menu.png","link":"2017/06/07/广工教务系统助手笔记.html","preview":"\u003cp\u003e在我们学校的教务系统里，如果你想查成绩，那得先把这学期的老师都评价完。在旧版教务系统中，教师评价一直是一个很烦人的东西：一个教师就要填10个左右的问题，而且同一个教师可能出现多次（课程和实验分开）。那个时候有一个APP叫做“广工校园通”，应该是出自某个工作室之手。但今年寒假我开始发现它不能用了，不知道是因为教务系统改版，他们没有精力做，还是据说这个APP是当时他们参加比赛做的，比完就没人维护了。于是寒假前一段时间我花了点时间抓新教务系统的包，把教师评价做了出来。当时只支持对所有教师评价，无论之前有没有评价过。这里要吐槽一点：后来评价的内容将覆盖之前评价的内容。这阵子突发奇想：不如把这个功能弄进小程序吧，反正正好体验下这么久以来都没碰过的小程序。于是乎就有了这篇东西～\u003c/p\u003e\n","title":"广工教务系统助手笔记"},{"content":"\n\n前段时间我发过一个Manjaro发行版的安装记录，这个ArchLinux就是它的爸爸啦。  \n除去它对新人非常不友好的安装过程，它还是一个很棒的发行版。它也是我现在长期使用的发行版。  \n这篇文文记录下自己的安装过程，毕竟以后可能很久都不会重装系统了，会忘记，逃)  \n欢迎没有使用过的朋友尝试尝试～ \n\n \n\n## 注意事项\n\n- 桌面环境(DE)选择: Gnome.  \n- 引导: Uefi.  \n- 磁盘类型: GPT.  \n- 若你电脑不是UEFI+GPT,请谨慎参考. 右转[Arck Wiki](https://wiki.archlinux.org/index.php/Main_page)  \n- 系统安装过程请保持接线联网,DE安装完成前不使用Wifi.  \n\n![img](/images/ArchLinux安装记录/2017-05-18.png)\n\n---\n## 系统安装\n\n### 获取镜像\n* [官方源](https://www.archlinux.org/download/)  \n* [USTC源](http://mirrors.ustc.edu.cn/archlinux/iso/)\n\n### 参考Arck Wiki\n* [Arck Wiki](https://wiki.archlinux.org/index.php/Main_page) 以后你会有很多机会跟它打交道,好好收藏.\n* [Installation guide](https://wiki.archlinux.org/index.php/Installation_guide) 安装指南. 安装过程中有什么不明白的可以查询.\n* [General recommendations](https://wiki.archlinux.org/index.php/General_recommendations) 安装后的推荐. 系统安装完成后可以参考这里完善你的个人系统.\n* [List of applications](https://wiki.archlinux.org/index.php/List_of_applications) 软件列表. 在这个软件分类里面你可以很轻松的找到想要的软件.\n\n### 一. 动手安装\n\n#### 1. 把镜像刻录进U盘\n* Linux环境下可以在终端直接使用dd命令\n```bash\nsudo dd if=\"\" of=/dev/sd* bs=8M status=progress\n```\n\u003e Windows环境下推荐使用[rufus](https://rufus.akeo.ie/)工具,当然你也可以使用UltraISO\n\n\n#### 2. 分区+格式化\n我们使用[fdisk](https://wiki.archlinux.org/index.php/Fdisk)这个工具\n* 列出当前分区情况\n```bash\nfdisk -l\n```\n* 给某分区格式化\n```bash\nmkfs.ext4 /dev/sda1\n```\n* 现在我们假设有以下分区\n\n路径      | 格式化类型\n:-:       | :-:\n/dev/sda1 | fat32\n/dev/sda2 | btrfs\n/dev/sda3 | linux swap\n/dev/sda4 | xfs\n\n* 挂载分区\n```bash\nmount /dev/sda4 /mnt\n```\n* 挂载其他分区\n```bash\nmkdir /mnt/boot\nmount /dev/sda2 /mnt/boot\nmkdir /mnt/boot/efi\nmount /dev/sda1 /mnt/boot/efi\n```\n* 激活交换分区\n```bash\nswapon /dev/sda3\n```\n\n#### 3. 安装基本系统\n* 选择镜像源\n```bash\nvim /etc/pacman.d/mirrorlist\n```\n* vim界面下使用:/搜索,这里我们选择USTC的镜像源,在Vim打开mirrorlist后,输入以下  \n```\n:/ustc #回车\n```\n* 跳转到ustc一行,输入yy复制,回到mirrorlist文件最开始,p粘贴. 然后退出  \n```\n:wq\n```\n* 测试镜像源\n```bash\npacman -Sy\n```\n* 速度应该还算不错,如果不好的话自己重新选择镜像源.\n* 安装基本系统\n```bash\npacstrap /mnt base base-devel\n```\n\n#### 4. 配置基本系统\n* 生成[Fstab](https://wiki.archlinux.org/index.php/Fstab)\n```bash\ngenfstab -U /mnt \u003e\u003e /mnt/etc/fstab\n```\n* 使用Chroot进入安装后的系统\n```bash\narch-chroot /mnt\n```\n* 设置时区,这里使用上海时区\n```bash\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n```\n* 使用hwclock生成/etc/adjtime\n```bash\nhwclock --systohc\n```\n* Locale  使用vim**编辑以下文件**\n```bash\n/etc/locale.conf\n```\n* 找到en_US.UTF-8把前面的#号去掉.\n* 找到zh_CN.UTF-8把前面的#号去掉.\n* 执行命令\n```bash\nlocale-gen\n```\n* Hostname 设置本地域名\n* 把'YourDomainName'替换成你想修改的名字\n```bash\necho 'YourDomainName' \u003e\u003e /etc/hostname\n```\n* 在/etc/hosts添加如下所示:\n```\n127.0.0.1\tlocalhost.localdomain\tlocalhost\n::1\t\tlocalhost.localdomain\tlocalhost\n127.0.1.1\t'YourDomainName' .localdomain\t'YourDomainName' \n```\n* 网络设置[Network configuration](https://wiki.archlinux.org/index.php/Network_configuration)\n\n\u003e 这个暂时略过\n\n* 设置root密码\n```bash\npasswd\n```\n\n#### 5. 安装引导程序[Grub](https://wiki.archlinux.org/index.php/GRUB)\n* 安装grub和efibootmgr\n```bash\npacman -S grub efibootmgr\n```\n* 安装可选包\n```bash\npacman -S os-prober intel-ucode\n```\n* 使用UEFI模式安装grub\n```bash\ngrub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=grub\n```\n* 生成grub的配置文件\n```bash\ngrub-mkconfig -o /boot/grub/grub.cfg\ngrub-mkconfig -o /boot/efi/EFI/grub/grub.cfg\n```\n\n#### 6. 重启系统\n* 退出chroot\n```bash\nexit\n```\n* 卸载分区\n```bash\numount -R /mnt\n```\n* 重启\n```bash\nreboot\n```\n\n### 二. 配置系统 [General recommendations](https://wiki.archlinux.org/index.php/General_recommendations#Users_and_groups)\n\n* 重启完后以root用户进入系统\n\n#### 1. 配置普通用户\n* 新增用户 'YourName'替换为你的用户名\n```bash\nuseradd -m -g users -G wheel -s /bin/bash 'YourName'\n```\n* 为新增用户设置密码\n```bash\npasswd 'YourName'\n```\n* 让你的用户可以使用sudo提升权限\n```bash\nchmod +w /etc/sudoers\n```\n* 在/etc/sudoers找到\n```\nroot    ALL=(ALL)   ALL\n```\n* 添加一行\n```\nroot    ALL=(ALL)   ALL\n'YourName'  ALL=(ALL)   ALL\n```\n* 保存退出\n\n#### 2. 联网\n* 使用DHCP获取ip地址\n```bash\ndhcpcd\n```\n* 使用ip查看当前ip\n```bash\nip addr\n```\n* 使用ping查看联网情况\n```bash\nping -c 114.114.114.114\n```\n\n### 三. 安装桌面环境\n\n#### 1. 安装[xorg](https://wiki.archlinux.org/index.php/Xorg) 与 [wayland](https://wiki.archlinux.org/index.php/Wayland)\n* 安装xorg,期间选择好自己需要的驱动\n```bash\npacman -S xorg\n```\n* 安装gnome桌面环境和[GDM显示管理器](https://wiki.archlinux.org/index.php/GDM)\n```bash\npacman -S gnome\n```\n* 设置GDM服务开机启动\n```bash\nsystemctl enable gdm\n```\n* 设置网络管理器开机启动\n```bash\nsystemctl enable NetworkManager.service\n```\n* 重启系统即可进入gnome\n```bash\nreboot\n```\n\n### 四. 无线网卡设置 [Wireless network configuration](https://wiki.archlinux.org/index.php/Wireless_network_configuration)\n\n#### 1. 查看电脑网卡\n* 检查已加载的硬件\n```bash\nlspci -k\n```\n```\n03:00.0 Network controller: Broadcom Limited BCM43142 802.11b/g/n (rev 01)\n\tSubsystem: Lite-On Communications Inc Device 6675\n\tFlags: bus master, fast devsel, latency 0, IRQ 19\n\tMemory at f7800000 (64-bit, non-prefetchable) [size=32K]\n\tCapabilities: \u003caccess denied\u003e\n\tKernel driver in use: wl\n\tKernel modules: wl\n```\n* 可见我的网卡是[BCM43142](https://wiki.archlinux.org/index.php/Broadcom_wireless)，安装相应软件。\n```bash\nsudo pacman -S linux-headers broadcom-wl-dkms\n```\n* 重启电脑，Wifi成功启动。\n\n---\n## 附加设置\n\n### 使用[AUR(Arch User Repository)](https://wiki.archlinux.org/index.php/Arch_User_Repository)\n\n#### 1. 设置AUR\n* 编辑pacman.conf\n```bash\nsudo vim /etc/pacman.conf \n```\n* 在最后一行添加\n```\n# Archlinuxcn USTC\n[archlinuxcn]\nServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch\n```\n* 更新源\n```bash\nsudo pacman -Sy\n```\n* 安装keyring\n```bash\nsudo pacman -S archlinuxcn-keyring\n```\n* 安装yaourt\n```bash\nsudo pacman -S yaourt\n```\n\n#### 2. 使用yaourt安装AUR里的软件\n\u003e 注意: yaourt不需要root权限.\n\n* 安装gnome拓展\n```bash\nyaourt -S chrome-gnome-shell-git\n```\n* 显示以下信息,关于编辑的一律选择n\n```\nchrome-gnome-shell-git 9.r0.g35851c7-1  (2017-04-18 13:15)\n（Unsupported 中的包：潜在危险）\n==\u003e 编辑 PKGBUILD ？ [Y/n] (\"A\" 忽略)\n==\u003e ----------------------------\n==\u003e \n```\n* 直到遇到构建,选择y\n```\n==\u003e 继续构建 chrome-gnome-shell-git ？[Y/n]\n==\u003e ----------------------------------\n==\u003e \n```\n\n---\n## 常用软件\n\n### 代理软件\n* Shadowsocks\n```bash\nyaourt -S shadowsocks-qt5\n```\n\n### 中文输入法\n* 框架\n```bash\nsudo pacman -S fcitx fcitx-im fcitx-configtool\n```\n* 搜狗拼音\n```bash\nyaourt -S fcitx-sogoupinyin\n```\n* 配置fcitx\n    * Xorg环境中,修改~/.xprofile\n    * Wayland环境中,修改/etc/environment  \n    在文件末尾添加如下文本.\n    ```\n    export GTK_IM_MODULE=fcitx\n    export QT_IM_MODULE=fcitx\n    export XMODIFIERS=@im=fcitx\n    ```\n    保存退出，注销Gnome，重新登录后即可使用。\n\n\n\n### Gnome 常用软件\n\n#### GUI软件\n\n* arch源(pacman -S):\n    * 日志查看器 gnome-logs\n    * 文本编辑器 gedit\n    * Gnome高级设置 gnome-tweak-tools\n    * 下载器 uget\n    * 浏览器 firefox(firefox-i18n-zh-cn) chromium\n    * IRC客户端 polari\n    * FTP客户端 filezilla\n    * 图像编辑处理 gimp\n    * 视频播放器 mpv vlc\n    * 邮件客户端 thunderbird(thunderbird-i18n-zh-cn)\n* AUR源(yaourt -S):\n    * 浏览器 google-chrome\n\n\n---\n### [Gnome 拓展](https://extensions.gnome.org/extension)  \n\n* 安装拓展必备软件\n```bash\nyaourt -S chrome-gnome-shell-git\n```\n* [Dash to Dock](https://extensions.gnome.org/extension/307/dash-to-dock/) 好用的Dock\n* [OpenWeather](https://extensions.gnome.org/extension/750/openweather/) 天气\n* [Dynamic Panel Transparency](https://extensions.gnome.org/extension/1011/dynamic-panel-transparency/) 顶栏透明\n* [Hide Top Bar](https://extensions.gnome.org/extension/545/hide-top-bar/) 隐藏顶栏\n\n### 代码编辑器\n\n* Vscode\n```bash\nyaourt -S visual-studio-code\n```\n\n\n\n\n\n\n\n\n","cover":"/images/ArchLinux安装记录/Archlinux_blue.jpg","link":"2017/05/18/archlinux安装笔记.html","preview":"\u003cp\u003e前段时间我发过一个Manjaro发行版的安装记录，这个ArchLinux就是它的爸爸啦。\u003cbr /\u003e\n除去它对新人非常不友好的安装过程，它还是一个很棒的发行版。它也是我现在长期使用的发行版。\u003cbr /\u003e\n这篇文文记录下自己的安装过程，毕竟以后可能很久都不会重装系统了，会忘记，逃)\u003cbr /\u003e\n欢迎没有使用过的朋友尝试尝试～\u003c/p\u003e\n","title":"ArchLinux安装笔记"},{"content":"\n\n\n### 你好，四月 、\n\n很抱歉这么晚才跟你打招呼。 一直以来闷热的天气，让我一度怀疑我是否过了一个假清明节。 是异常的天气也好，是繁琐的作业论文也罢，这总归是一个让人憧憬的季节。  \n\n斗柄东指，玉衡、开阳、摇光后是牧夫的大角，再是室女的角宿一。 今晚的木星和月亮都在室女座，靠的很近。 但广州像是要变天，天空变得浑浊，从穹顶开始，四周都开始泛红，明天像是要下雨了。 明亮的木星和月亮这下子都没法看了。  \n\n下雨是极好的，我已经在闷热的天气下憋不过气来了。 以前会因为下暴雨而不去上课，然而全班同学里到达课室的也不过数人，他们都是值得敬佩的，当然老师也是值得敬佩的。 以前大学一二时也遇到过下暴雨，但完全相反的情况，全班同学几乎全部到齐，但是老师因为暴雨而姗姗来迟，大概拖了一节课后才正式上课。  \n\n\n\n### 四月谎言\n\n\u003ciframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2\u0026id=29732992\u0026auto=1\u0026height=66\"\u003e\u003c/iframe\u003e  \n\n自从几个星期前补完了“四月是你的谎言”以后，桌面就变成如图所示：  \n\n![img](/images/四月甜/desktop.jpg)\n\n我也不想谈谈看完有什么感受，她对我有什么影响。 这些会在我的故事、音乐、言行里浮现出来，他们比我主观的纯粹描述更有说服力。  \n\n我是一个习惯秋天的人。 我喜欢金灿灿的花田，喜欢黄昏时的霞光，喜欢果实累累的收获。 对的，我喜欢收获，习惯于秋天的收获。 不劳而获听起来很诱人，往花丛一趟，芬芳扑鼻。 而后大地像是要惩罚我这个不劳而获的家伙，周围的花丛消失殆尽，剩下的是土地、河流。 我害怕，我不喜欢这些————他们单调地像是一无是处。  \n\n\n### 四月的甜\n\n沉闷的空气中传来了甜味。 我放下手中的忙活，拆开来自徐二的精致的礼物。  \n\n![img](/images/四月甜/candy.jpg)\n\n这颗像是桌球一般的球形物体是一颗糖，好大一颗糖！ 嘿！ 我喜欢吃糖！  \n\n一开始徐二说，给我送的是糖。 没多想，我以为、 挺正常的糖，一颗一颗的糖。 拆开了盒子，见不到一颗颗的糖，只见到一颗硕大无比的球！ 一颗球！ 一颗球！  \n\n它的颜色也是挺独特的，随意的色彩，让我很有食欲呢。 经介绍，这颗球，哦呸。 这颗糖，硬到无与伦比，刀切不开，牙咬不动。 怎么吃呢？ 就是舔！ 舔！这颗糖有二十几层，一层一个口味。 写到这里本人的口水已经止不住了！！！ 若不是已经临近午夜时分，我！要吃了它！  \n\n然后我看到了下图，发现事情并不简单.  \n\n![img](/images/四月甜/show.jpg)\n\n这些人的舌头功力深厚，佩服佩服。  \n\n锻炼舌头的时候来临了，逃)\n","cover":"/images/四月甜/desktop.jpg","link":"2017/04/10/四月甜.html","preview":"\u003ch3\u003e你好，四月 、\u003c/h3\u003e\n\n\u003cp\u003e很抱歉这么晚才跟你打招呼。 一直以来闷热的天气，让我一度怀疑我是否过了一个假清明节。 是异常的天气也好，是繁琐的作业论文也罢，这总归是一个让人憧憬的季节。\u003c/p\u003e\n\n\u003cp\u003e斗柄东指，玉衡、开阳、摇光后是牧夫的大角，再是室女的角宿一。 今晚的木星和月亮都在室女座，靠的很近。 但广州像是要变天，天空变得浑浊，从穹顶开始，四周都开始泛红，明天像是要下雨了。 明亮的木星和月亮这下子都没法看了。\u003c/p\u003e\n\n\u003cp\u003e下雨是极好的，我已经在闷热的天气下憋不过气来了。 以前会因为下暴雨而不去上课，然而全班同学里到达课室的也不过数人，他们都是值得敬佩的，当然老师也是值得敬佩的。 以前大学一二时也遇到过下暴雨，但完全相反的情况，全班同学几乎全部到齐，但是老师因为暴雨而姗姗来迟，大概拖了一节课后才正式上课。\u003c/p\u003e\n","title":"四月甜"},{"content":"\n\nManjaro是一款基于Arch Linux的发行版。 继承了Arch滚动更新的特点，可以使用AUR上最齐全的软件。  \n\n针对Arch Linux对新手不友好的“弱点”，Manjaro采用图形化安装程序，让安装过程变得非常简单，同时把安装Arch Linux后大量的繁琐工作——驱动、X服务、桌面环境、解码器等————全部集成了，为新手解决了大麻烦。\n\n\n\n![img](/images/Manjaro安装记/manjaro.jpg)\n\n---\n\n### 配置软件源\n1. 安装好后第一步是根据软件源的速度排列源(在终端输入）\n```\nsudo pacman-mirrors -g\n```\n2. Wiki上一个优化机械硬盘的命令，类似于磁盘整理（固态硬盘跳过这步）\n```\nsudo pacman-optimize \u0026\u0026 sync\n```\n3. 更新系统\n```\nsudo pacman -Syyu\n```\n4. 完成以上步骤后，可添加archlinuxCN源，方便我们安装等软件 \n```\nsudo nano /etc/pacman.conf\n```\n5. 在打开的文件最后黏贴上以下几行：（这里用的中科大的源）\n```\n# USTC\n[archlinuxcn]\nSigLevel = Optional TrustedOnly\nServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch\n```\n6. 之后更新一下\n```\nsudo pacman -Syyu\n```\n7. 导入 GPG key\n```\nsudo pacman -S archlinuxcn-keyring\n```\n现在可以愉快地玩耍啦  \n\n---\n\n### 安装中文输入法\n1. 安装搜狗拼音 \n```\nsudo pacman -S fcitx-sogoupinyin\nsudo pacman -S fcitx-im # 全部安装\nsudo pacman -S fcitx-configtool # 图形化配置工具\n```\n2. 之后更改 ~/.xprofile \n```\nnano ~/.xprofile \nexport GTK_IM_MODULE=fcitx\nexport QT_IM_MODULE=fcitx\nexport XMODIFIERS=\"@im=fcitx\"\n```\n最后在命令行输入fcitx就可以使用了\n\n---\n\n### 终端代理\n\n#### 使用proxychains实现单个命令的代理\n1. 安装Proxychains\n```\ngit clone https://github.com/rofl0r/proxychains-ng.git \ncd proxychains-ng \n./configure #配置\nsudo make \u0026\u0026 sudo make install #编译安装\ncp ./src/proxychains.conf /etc/proxychains.conf #提取配置文件\ncd .. \u0026\u0026 rm -rf proxychains-ng #删除安装文件\n```\n2. 编辑proxychains配置\n```\nvim /etc/proxychains.conf\n```\n3. 将socks4 127.0.0.1 9095 改为 socks5 127.0.0.1 1080\n\n#### 使用方法\n* 在需要代理的命令前加上 proxychains4 ，如\n```\nproxychains4 wget http://xxx.com/xxx.zip\n```\n\n---\n\n### GIT的代理设置\n* 利用shadowsocks的socks5代理，配置好后明显加速。用下面两条命令配置好后，保持shadowsocks客户端开启就行了。\n```\ngit config --global http.proxy ‘socks5://127.0.0.1:1080’ \ngit config --global https.proxy ‘socks5://127.0.0.1:1080’ \n# shadowsocks的本地端口默认是1080 \n```\n","cover":"/images/Manjaro安装记/manjaro.jpg","link":"2017/03/09/manjaro安装笔记.html","preview":"\u003cp\u003eManjaro是一款基于Arch Linux的发行版。 继承了Arch滚动更新的特点，可以使用AUR上最齐全的软件。\u003c/p\u003e\n\n\u003cp\u003e针对Arch Linux对新手不友好的“弱点”，Manjaro采用图形化安装程序，让安装过程变得非常简单，同时把安装Arch Linux后大量的繁琐工作——驱动、X服务、桌面环境、解码器等————全部集成了，为新手解决了大麻烦。\u003c/p\u003e\n","title":"Manjaro安装笔记"}]